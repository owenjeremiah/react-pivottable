{"version":3,"file":"PlotlyRenderers.js","names":["_react","_interopRequireDefault","require","_propTypes","_Utilities","e","__esModule","_createForOfIteratorHelper","r","t","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","length","_n","F","s","n","done","value","f","TypeError","o","a","u","call","next","_arrayLikeToArray","toString","slice","constructor","name","from","test","_classCallCheck","_defineProperties","enumerable","configurable","writable","Object","defineProperty","_toPropertyKey","key","_createClass","prototype","i","_toPrimitive","_typeof","toPrimitive","String","Number","_callSuper","_getPrototypeOf","_possibleConstructorReturn","_isNativeReflectConstruct","Reflect","construct","apply","_assertThisInitialized","ReferenceError","Boolean","valueOf","setPrototypeOf","getPrototypeOf","bind","__proto__","_inherits","create","_setPrototypeOf","makeRenderer","PlotlyComponent","traceOptions","arguments","undefined","layoutOptions","transpose","Renderer","_React$PureComponent","render","pivotData","PivotData","props","rowKeys","getRowKeys","colKeys","getColKeys","traceKeys","push","datumKeys","fullAggName","aggregatorName","numInputs","aggregators","concat","vals","join","data","map","traceKey","values","labels","_iterator","_step","datumKey","val","parseFloat","getAggregator","isFinite","err","trace","type","x","y","assign","titleText","hAxisTitle","rows","cols","groupByTitle","layout","title","hovermode","width","window","innerWidth","height","innerHeight","columns","Math","ceil","sqrt","grid","forEach","d","domain","row","floor","column","showlegend","xaxis","automargin","yaxis","createElement","plotlyOptions","config","plotlyConfig","onUpdate","onRendererUpdate","React","PureComponent","defaultProps","propTypes","PropTypes","object","func","makeScatterRenderer","_React$PureComponent2","text","mode","rowKey","colKey","v","createPlotlyRenderers","barmode","orientation","stackgroup","scalegroup","hoverinfo","textinfo"],"sources":["../src/PlotlyRenderers.jsx"],"sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\nimport {PivotData} from './Utilities';\n\n/* eslint-disable react/prop-types */\n// eslint can't see inherited propTypes!\n\nfunction makeRenderer(\n  PlotlyComponent,\n  traceOptions = {},\n  layoutOptions = {},\n  transpose = false\n) {\n  class Renderer extends React.PureComponent {\n    render() {\n      const pivotData = new PivotData(this.props);\n      const rowKeys = pivotData.getRowKeys();\n      const colKeys = pivotData.getColKeys();\n      const traceKeys = transpose ? colKeys : rowKeys;\n      if (traceKeys.length === 0) {\n        traceKeys.push([]);\n      }\n      const datumKeys = transpose ? rowKeys : colKeys;\n      if (datumKeys.length === 0) {\n        datumKeys.push([]);\n      }\n\n      let fullAggName = this.props.aggregatorName;\n      const numInputs =\n        this.props.aggregators[fullAggName]([])().numInputs || 0;\n      if (numInputs !== 0) {\n        fullAggName += ` of ${this.props.vals.slice(0, numInputs).join(', ')}`;\n      }\n\n      const data = traceKeys.map(traceKey => {\n        const values = [];\n        const labels = [];\n        for (const datumKey of datumKeys) {\n          const val = parseFloat(\n            pivotData\n              .getAggregator(\n                transpose ? datumKey : traceKey,\n                transpose ? traceKey : datumKey\n              )\n              .value()\n          );\n          values.push(isFinite(val) ? val : null);\n          labels.push(datumKey.join('-') || ' ');\n        }\n        const trace = {name: traceKey.join('-') || fullAggName};\n        if (traceOptions.type === 'pie') {\n          trace.values = values;\n          trace.labels = labels.length > 1 ? labels : [fullAggName];\n        } else {\n          trace.x = transpose ? values : labels;\n          trace.y = transpose ? labels : values;\n        }\n        return Object.assign(trace, traceOptions);\n      });\n\n      let titleText = fullAggName;\n      const hAxisTitle = transpose\n        ? this.props.rows.join('-')\n        : this.props.cols.join('-');\n      const groupByTitle = transpose\n        ? this.props.cols.join('-')\n        : this.props.rows.join('-');\n      if (hAxisTitle !== '') {\n        titleText += ` vs ${hAxisTitle}`;\n      }\n      if (groupByTitle !== '') {\n        titleText += ` by ${groupByTitle}`;\n      }\n\n      const layout = {\n        title: titleText,\n        hovermode: 'closest',\n        /* eslint-disable no-magic-numbers */\n        width: window.innerWidth / 1.5,\n        height: window.innerHeight / 1.4 - 50,\n        /* eslint-enable no-magic-numbers */\n      };\n\n      if (traceOptions.type === 'pie') {\n        const columns = Math.ceil(Math.sqrt(data.length));\n        const rows = Math.ceil(data.length / columns);\n        layout.grid = {columns, rows};\n        data.forEach((d, i) => {\n          d.domain = {\n            row: Math.floor(i / columns),\n            column: i - columns * Math.floor(i / columns),\n          };\n          if (data.length > 1) {\n            d.title = d.name;\n          }\n        });\n        if (data[0].labels.length === 1) {\n          layout.showlegend = false;\n        }\n      } else {\n        layout.xaxis = {\n          title: transpose ? fullAggName : null,\n          automargin: true,\n        };\n        layout.yaxis = {\n          title: transpose ? null : fullAggName,\n          automargin: true,\n        };\n      }\n\n      return (\n        <PlotlyComponent\n          data={data}\n          layout={Object.assign(\n            layout,\n            layoutOptions,\n            this.props.plotlyOptions\n          )}\n          config={this.props.plotlyConfig}\n          onUpdate={this.props.onRendererUpdate}\n        />\n      );\n    }\n  }\n\n  Renderer.defaultProps = Object.assign({}, PivotData.defaultProps, {\n    plotlyOptions: {},\n    plotlyConfig: {},\n  });\n  Renderer.propTypes = Object.assign({}, PivotData.propTypes, {\n    plotlyOptions: PropTypes.object,\n    plotlyConfig: PropTypes.object,\n    onRendererUpdate: PropTypes.func,\n  });\n\n  return Renderer;\n}\n\nfunction makeScatterRenderer(PlotlyComponent) {\n  class Renderer extends React.PureComponent {\n    render() {\n      const pivotData = new PivotData(this.props);\n      const rowKeys = pivotData.getRowKeys();\n      const colKeys = pivotData.getColKeys();\n      if (rowKeys.length === 0) {\n        rowKeys.push([]);\n      }\n      if (colKeys.length === 0) {\n        colKeys.push([]);\n      }\n\n      const data = {x: [], y: [], text: [], type: 'scatter', mode: 'markers'};\n\n      rowKeys.map(rowKey => {\n        colKeys.map(colKey => {\n          const v = pivotData.getAggregator(rowKey, colKey).value();\n          if (v !== null) {\n            data.x.push(colKey.join('-'));\n            data.y.push(rowKey.join('-'));\n            data.text.push(v);\n          }\n        });\n      });\n\n      const layout = {\n        title: this.props.rows.join('-') + ' vs ' + this.props.cols.join('-'),\n        hovermode: 'closest',\n        /* eslint-disable no-magic-numbers */\n        xaxis: {title: this.props.cols.join('-'), automargin: true},\n        yaxis: {title: this.props.rows.join('-'), automargin: true},\n        width: window.innerWidth / 1.5,\n        height: window.innerHeight / 1.4 - 50,\n        /* eslint-enable no-magic-numbers */\n      };\n\n      return (\n        <PlotlyComponent\n          data={[data]}\n          layout={Object.assign(layout, this.props.plotlyOptions)}\n          config={this.props.plotlyConfig}\n          onUpdate={this.props.onRendererUpdate}\n        />\n      );\n    }\n  }\n\n  Renderer.defaultProps = Object.assign({}, PivotData.defaultProps, {\n    plotlyOptions: {},\n    plotlyConfig: {},\n  });\n  Renderer.propTypes = Object.assign({}, PivotData.propTypes, {\n    plotlyOptions: PropTypes.object,\n    plotlyConfig: PropTypes.object,\n    onRendererUpdate: PropTypes.func,\n  });\n\n  return Renderer;\n}\n\nexport default function createPlotlyRenderers(PlotlyComponent) {\n  return {\n    'Grouped Column Chart': makeRenderer(\n      PlotlyComponent,\n      {type: 'bar'},\n      {barmode: 'group'}\n    ),\n    'Stacked Column Chart': makeRenderer(\n      PlotlyComponent,\n      {type: 'bar'},\n      {barmode: 'relative'}\n    ),\n    'Grouped Bar Chart': makeRenderer(\n      PlotlyComponent,\n      {type: 'bar', orientation: 'h'},\n      {barmode: 'group'},\n      true\n    ),\n    'Stacked Bar Chart': makeRenderer(\n      PlotlyComponent,\n      {type: 'bar', orientation: 'h'},\n      {barmode: 'relative'},\n      true\n    ),\n    'Line Chart': makeRenderer(PlotlyComponent),\n    'Dot Chart': makeRenderer(PlotlyComponent, {mode: 'markers'}, {}, true),\n    'Area Chart': makeRenderer(PlotlyComponent, {stackgroup: 1}),\n    'Scatter Chart': makeScatterRenderer(PlotlyComponent),\n    'Multiple Pie Chart': makeRenderer(\n      PlotlyComponent,\n      {type: 'pie', scalegroup: 1, hoverinfo: 'label+value', textinfo: 'none'},\n      {},\n      true\n    ),\n  };\n}\n"],"mappings":"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","ignoreList":[]}
{"version":3,"file":"PivotTableUI.js","names":["_react","_interopRequireWildcard","require","_reactSortablejs","_DraggableAttribute","_Dropdown","_Utilities","_PivotTable","_interopRequireDefault","_TableRenderers","_s","$RefreshSig$","_excluded","e","__esModule","_getRequireWildcardCache","WeakMap","r","t","_typeof","has","get","n","__proto__","a","Object","defineProperty","getOwnPropertyDescriptor","u","hasOwnProperty","call","i","set","_extends","assign","bind","arguments","length","apply","_createForOfIteratorHelper","Symbol","iterator","Array","isArray","_unsupportedIterableToArray","_n","F","s","done","value","f","TypeError","o","next","ownKeys","keys","getOwnPropertySymbols","filter","enumerable","push","_objectSpread","forEach","_defineProperty","getOwnPropertyDescriptors","defineProperties","_toPropertyKey","configurable","writable","_toPrimitive","toPrimitive","String","Number","_slicedToArray","_arrayWithHoles","_iterableToArrayLimit","_nonIterableRest","_arrayLikeToArray","toString","slice","constructor","name","from","test","l","_objectWithoutProperties","_objectWithoutPropertiesLoose","includes","propertyIsEnumerable","PivotTableUI","_ref","onChange","_ref$hiddenAttributes","hiddenAttributes","_ref$hiddenFromAggreg","hiddenFromAggregators","_ref$hiddenFromDragDr","hiddenFromDragDrop","_ref$unusedOrientatio","unusedOrientationCutoff","_ref$menuLimit","menuLimit","data","pivotState","_useState","useState","_useState2","attrValues","setAttrValues","_useState3","_useState4","localData","setLocalData","_useState5","_useState6","materializedInput","setMaterializedInput","_useState7","_useState8","maxZIndex","setMaxZIndex","_useState9","_useState10","openDropdown","setOpenDropdown","_useState11","_useState12","unusedOrder","setUnusedOrder","_useState13","_useState14","zIndices","setZIndices","aggregators","cols","rows","vals","aggregatorName","sorters","valueFilter","rowOrder","colOrder","derivedAttributes","rendererName","renderers","TableRenderers","useEffect","materializeInput","nextData","recordsProcessed","PivotData","forEachRecord","record","_i","_Object$keys","attr","console","log","propUpdater","key","setValuesInFilter","attribute","values","_pivotState","reduce","v","addValuesToFilter","_pivotState2","removeValuesFromFilter","_pivotState3","_iterator","_step","err","moveFilterBoxToTop","zIndex","isOpen","dropdown","makeDnDCell","items","list","setList","classes","createElement","ReactSortable","group","ghostClass","preventOnFilter","tag","className","map","x","_pivotState4","_pivotState5","DraggableAttribute","sorter","getSort","numValsAllowed","numInputs","aggregatorCellOutlet","outlet","_pivotState6","RendererCell","Dropdown","current","open","toggle","setValue","sortIcons","key_a_to_z","rowSymbol","colSymbol","value_a_to_z","value_z_to_a","AggregatorCell","role","onClick","fill","concat","splice","unusedAttrs","sort","sortAs","unusedLength","horizUnused","UnusedAttrsCell","colAttrs","ColAttrsCell","rowAttrs","RowAttrsCell","OutputCell","_c","_default","exports","$RefreshReg$"],"sources":["src/PivotTableUI.jsx"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\n// import Draggable from \"react-draggable\";\nimport {ReactSortable} from \"react-sortablejs\";\n// import PropTypes from \"prop-types\";\n// import update from \"immutability-helper\";\n\nimport {DraggableAttribute} from \"./DraggableAttribute\";\nimport {Dropdown} from \"./Dropdown\";\nimport {PivotData, sortAs, getSort, aggregators} from \"./Utilities\";\nimport PivotTable from \"./PivotTable\";\nimport TableRenderers from \"./TableRenderers\";\n\n/* eslint-disable react/prop-types */\n// eslint can't see inherited propTypes!\n\n// export const PivotTableUI = React.memo(function PivotTableUI({\nexport function PivotTableUI({\n  // Self props\n  onChange,\n  hiddenAttributes = [],\n  hiddenFromAggregators = [],\n  hiddenFromDragDrop = [],\n  unusedOrientationCutoff = 85,\n  menuLimit = 500,\n\n  // PivotTable props\n  // rendererName,\n  // renderers,\n\n  // PivotData props\n  data,\n  ...pivotState\n}) {\n  const [attrValues, setAttrValues] = useState({});\n  const [localData, setLocalData] = useState([]);\n  const [materializedInput, setMaterializedInput] = useState([]);\n  const [maxZIndex, setMaxZIndex] = useState(1000);\n  const [openDropdown, setOpenDropdown] = useState(false);\n  const [unusedOrder, setUnusedOrder] = useState([]);\n  const [zIndices, setZIndices] = useState({});\n\n  // Default props\n  pivotState = {\n    // Default PivotData props\n    aggregators,\n    cols: [],\n    rows: [],\n    vals: [],\n    aggregatorName: \"Count\",\n    sorters: {},\n    valueFilter: {},\n    rowOrder: \"key_a_to_z\",\n    colOrder: \"key_a_to_z\",\n    derivedAttributes: {},\n\n    // Default PivotTable props\n    rendererName: \"Table\",\n    renderers: TableRenderers,\n\n    ...pivotState,\n  };\n\n  useEffect(() => {\n    materializeInput(data);\n  }, [data]);\n\n  function materializeInput(nextData) {\n    if (localData === nextData) {\n      return;\n    }\n\n    let attrValues = {};\n    let materializedInput = [];\n    let recordsProcessed = 0;\n\n    PivotData.forEachRecord(\n      nextData,\n      pivotState.derivedAttributes,\n      function (record) {\n        materializedInput.push(record);\n        for (const attr of Object.keys(record)) {\n          if (!(attr in attrValues)) {\n            attrValues[attr] = {};\n            if (recordsProcessed > 0) {\n              attrValues[attr].null = recordsProcessed;\n            }\n          }\n        }\n        for (const attr in attrValues) {\n          const value = attr in record ? record[attr] : \"null\";\n          if (!(value in attrValues[attr])) {\n            attrValues[attr][value] = 0;\n          }\n          attrValues[attr][value]++;\n        }\n        recordsProcessed++;\n      }\n    );\n\n    console.log(\"attrValues\", attrValues);\n    console.log(\"materializedInput\", materializedInput);\n\n    // Update states\n    setLocalData(nextData);\n    setAttrValues(attrValues);\n    setMaterializedInput(materializedInput);\n  }\n\n  // function sendPropUpdate(command) {\n  //   onChange(update(this.props, command));\n  // }\n\n  function propUpdater(key) {\n    // return (value) => this.sendPropUpdate({[key]: {$set: value}});\n    return (value) => onChange({...pivotState, [key]: value});\n  }\n\n  function setValuesInFilter(attribute, values) {\n    let {valueFilter} = pivotState;\n    valueFilter[attribute] = values.reduce((r, v) => {\n      r[v] = true;\n      return r;\n    }, {});\n    onChange({...pivotState, valueFilter});\n    // this.sendPropUpdate({\n    //   valueFilter: {\n    //     [attribute]: {\n    //       $set: values.reduce((r, v) => {\n    //         r[v] = true;\n    //         return r;\n    //       }, {}),\n    //     },\n    //   },\n    // });\n  }\n\n  function addValuesToFilter(attribute, values) {\n    let {valueFilter} = pivotState;\n    if (attribute in pivotState.valueFilter) {\n      valueFilter[attribute] = values.reduce((r, v) => {\n        r[v] = true;\n        return r;\n      }, valueFilter[attribute]);\n      onChange({...pivotState, valueFilter});\n      // this.sendPropUpdate({\n      //   valueFilter: {\n      //     [attribute]: values.reduce((r, v) => {\n      //       r[v] = {$set: true};\n      //       return r;\n      //     }, {}),\n      //   },\n      // });\n    } else {\n      setValuesInFilter(attribute, values);\n    }\n  }\n\n  function removeValuesFromFilter(attribute, values) {\n    let {valueFilter} = pivotState;\n    for (let v of values) {\n      delete valueFilter[attribute][v];\n    }\n    onChange({...pivotState, valueFilter});\n    // this.sendPropUpdate({\n    //   valueFilter: {[attribute]: {$unset: values}},\n    // });\n  }\n\n  function moveFilterBoxToTop(attribute) {\n    let zIndex = maxZIndex + 1;\n    setMaxZIndex(zIndex);\n    setZIndices({[attribute]: zIndex});\n    // this.setState(\n    //   update(this.state, {\n    //     maxZIndex: {$set: this.state.maxZIndex + 1},\n    //     zIndices: {[attribute]: {$set: this.state.maxZIndex + 1}},\n    //   })\n    // );\n  }\n\n  function isOpen(dropdown) {\n    // return this.state.openDropdown === dropdown;\n    return openDropdown === dropdown;\n  }\n\n  function makeDnDCell(items, list, setList, classes) {\n    return (\n      <ReactSortable\n        list={list}\n        setList={setList}\n        // Sortable\n        group=\"shared\"\n        ghostClass=\"pvtPlaceholder\"\n        filter=\".pvtFilterBox\"\n        preventOnFilter={false}\n        tag=\"td\"\n        className={classes}\n      >\n        {items?.map((x) => (\n          <DraggableAttribute\n            name={x}\n            key={x}\n            attrValues={attrValues[x]}\n            valueFilter={pivotState?.valueFilter[x] || {}}\n            sorter={getSort(pivotState?.sorters, x)}\n            menuLimit={menuLimit}\n            setValuesInFilter={setValuesInFilter}\n            addValuesToFilter={addValuesToFilter}\n            moveFilterBoxToTop={moveFilterBoxToTop}\n            removeValuesFromFilter={removeValuesFromFilter}\n            zIndex={zIndices[x] || maxZIndex}\n          />\n        ))}\n      </ReactSortable>\n    );\n  }\n\n  const numValsAllowed =\n    pivotState.aggregators[pivotState.aggregatorName]([])().numInputs || 0;\n\n  const aggregatorCellOutlet = pivotState.aggregators[\n    pivotState.aggregatorName\n  ]([])().outlet;\n\n  let {rendererName, renderers} = pivotState;\n  if (!(rendererName in renderers)) rendererName = Object.keys(renderers)[0];\n\n  const RendererCell = () => (\n    <td className=\"pvtRenderers\">\n      <Dropdown\n        current={rendererName}\n        values={Object.keys(renderers)}\n        open={isOpen(\"renderer\")}\n        zIndex={isOpen(\"renderer\") ? maxZIndex + 1 : 1}\n        toggle={() => setOpenDropdown(isOpen(\"renderer\") ? false : \"renderer\")}\n        setValue={propUpdater(\"rendererName\")}\n      />\n    </td>\n  );\n\n  const sortIcons = {\n    key_a_to_z: {\n      rowSymbol: \"↕\",\n      colSymbol: \"↔\",\n      next: \"value_a_to_z\",\n    },\n    value_a_to_z: {\n      rowSymbol: \"↓\",\n      colSymbol: \"→\",\n      next: \"value_z_to_a\",\n    },\n    value_z_to_a: {rowSymbol: \"↑\", colSymbol: \"←\", next: \"key_a_to_z\"},\n  };\n\n  const AggregatorCell = () => (\n    <td className=\"pvtVals\">\n      <Dropdown\n        current={pivotState.aggregatorName}\n        values={Object.keys(pivotState.aggregators)}\n        open={isOpen(\"aggregators\")}\n        zIndex={isOpen(\"aggregators\") ? maxZIndex + 1 : 1}\n        toggle={() =>\n          setOpenDropdown(isOpen(\"aggregators\") ? false : \"aggregators\")\n        }\n        setValue={propUpdater(\"aggregatorName\")}\n      />\n      <a\n        role=\"button\"\n        className=\"pvtRowOrder\"\n        onClick={() =>\n          propUpdater(\"rowOrder\")(sortIcons[pivotState.rowOrder].next)\n        }\n      >\n        {sortIcons[pivotState.rowOrder].rowSymbol}\n      </a>\n      <a\n        role=\"button\"\n        className=\"pvtColOrder\"\n        onClick={() =>\n          propUpdater(\"colOrder\")(sortIcons[pivotState.colOrder].next)\n        }\n      >\n        {sortIcons[pivotState.colOrder].colSymbol}\n      </a>\n      {numValsAllowed > 0 && <br />}\n      {new Array(numValsAllowed).fill().map((n, i) => [\n        <Dropdown\n          key={i}\n          current={pivotState.vals[i]}\n          values={Object.keys(attrValues).filter(\n            (e) =>\n              !hiddenAttributes.includes(e) &&\n              !hiddenFromAggregators.includes(e)\n          )}\n          open={isOpen(`val${i}`)}\n          zIndex={isOpen(`val${i}`) ? maxZIndex + 1 : 1}\n          toggle={() => setOpenDropdown(isOpen(`val${i}`) ? false : `val${i}`)}\n          setValue={(value) => {\n            let vals = pivotState.vals;\n            vals.splice(i, 1, value);\n            onChange({...pivotState, vals});\n          }}\n        />,\n        i + 1 !== numValsAllowed ? <br key={`br${i}`} /> : null,\n      ])}\n      {aggregatorCellOutlet && aggregatorCellOutlet(data)}\n    </td>\n  );\n\n  const unusedAttrs = Object.keys(attrValues)\n    .filter(\n      (e) =>\n        !pivotState.rows.includes(e) &&\n        !pivotState.cols.includes(e) &&\n        !hiddenAttributes.includes(e) &&\n        !hiddenFromDragDrop.includes(e)\n    )\n    .sort(sortAs(unusedOrder));\n  const unusedLength = unusedAttrs.reduce((r, e) => r + e.length, 0);\n  const horizUnused = unusedLength < unusedOrientationCutoff;\n  const UnusedAttrsCell = () =>\n    makeDnDCell(\n      unusedAttrs,\n      unusedOrder,\n      setUnusedOrder,\n      `pvtAxisContainer pvtUnused ${horizUnused ? \"pvtHorizList\" : \"pvtVertList\"}`\n    );\n\n  const colAttrs = pivotState.cols.filter(\n    (e) => !hiddenAttributes.includes(e) && !hiddenFromDragDrop.includes(e)\n  );\n  const ColAttrsCell = () =>\n    makeDnDCell(\n      colAttrs,\n      pivotState.cols,\n      propUpdater(\"cols\"),\n      \"pvtAxisContainer pvtHorizList pvtCols\"\n    );\n\n  const rowAttrs = pivotState.rows.filter(\n    (e) => !hiddenAttributes.includes(e) && !hiddenFromDragDrop.includes(e)\n  );\n  const RowAttrsCell = () =>\n    makeDnDCell(\n      rowAttrs,\n      pivotState.rows,\n      propUpdater(\"rows\"),\n      \"pvtAxisContainer pvtVertList pvtRows\"\n    );\n\n  const OutputCell = () => (\n    <td className=\"pvtOutput\">\n      <PivotTable\n        data={materializedInput}\n        derivedAttributes={pivotState.derivedAttributes}\n        {...pivotState}\n        // {...update(this.props, {\n        //   data: {$set: this.state.materializedInput},\n        // })}\n      />\n    </td>\n  );\n\n  return horizUnused ? (\n    <table className=\"pvtUi\">\n      <tbody onClick={() => setOpenDropdown(false)}>\n        <tr>\n          <RendererCell />\n          <UnusedAttrsCell />\n        </tr>\n        <tr>\n          <AggregatorCell />\n          <ColAttrsCell />\n        </tr>\n        <tr>\n          <RowAttrsCell />\n          <OutputCell />\n        </tr>\n      </tbody>\n    </table>\n  ) : (\n    <table className=\"pvtUi\">\n      <tbody onClick={() => setOpenDropdown(false)}>\n        <tr>\n          <RendererCell />\n          <AggregatorCell />\n          <ColAttrsCell />\n        </tr>\n        <tr>\n          <UnusedAttrsCell />\n          <RowAttrsCell />\n          <OutputCell />\n        </tr>\n      </tbody>\n    </table>\n  );\n}\n// });\n\nexport default PivotTableUI;\n"],"mappings":";;;;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AAEA,IAAAC,gBAAA,GAAAD,OAAA;AAIA,IAAAE,mBAAA,GAAAF,OAAA;AACA,IAAAG,SAAA,GAAAH,OAAA;AACA,IAAAI,UAAA,GAAAJ,OAAA;AACA,IAAAK,WAAA,GAAAC,sBAAA,CAAAN,OAAA;AACA,IAAAO,eAAA,GAAAD,sBAAA,CAAAN,OAAA;AAA8C,IAAAQ,EAAA,GAAAC,YAAA;AAAA,IAAAC,SAAA,oIAT9C;AAEA;AACA;AAAA,SAAAJ,uBAAAK,CAAA,WAAAA,CAAA,IAAAA,CAAA,CAAAC,UAAA,GAAAD,CAAA,gBAAAA,CAAA;AAAA,SAAAE,yBAAAF,CAAA,6BAAAG,OAAA,mBAAAC,CAAA,OAAAD,OAAA,IAAAE,CAAA,OAAAF,OAAA,YAAAD,wBAAA,YAAAA,yBAAAF,CAAA,WAAAA,CAAA,GAAAK,CAAA,GAAAD,CAAA,KAAAJ,CAAA;AAAA,SAAAZ,wBAAAY,CAAA,EAAAI,CAAA,SAAAA,CAAA,IAAAJ,CAAA,IAAAA,CAAA,CAAAC,UAAA,SAAAD,CAAA,eAAAA,CAAA,gBAAAM,OAAA,CAAAN,CAAA,0BAAAA,CAAA,sBAAAA,CAAA,QAAAK,CAAA,GAAAH,wBAAA,CAAAE,CAAA,OAAAC,CAAA,IAAAA,CAAA,CAAAE,GAAA,CAAAP,CAAA,UAAAK,CAAA,CAAAG,GAAA,CAAAR,CAAA,OAAAS,CAAA,KAAAC,SAAA,UAAAC,CAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,CAAA,IAAAf,CAAA,oBAAAe,CAAA,OAAAC,cAAA,CAAAC,IAAA,CAAAjB,CAAA,EAAAe,CAAA,SAAAG,CAAA,GAAAP,CAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAe,CAAA,UAAAG,CAAA,KAAAA,CAAA,CAAAV,GAAA,IAAAU,CAAA,CAAAC,GAAA,IAAAP,MAAA,CAAAC,cAAA,CAAAJ,CAAA,EAAAM,CAAA,EAAAG,CAAA,IAAAT,CAAA,CAAAM,CAAA,IAAAf,CAAA,CAAAe,CAAA,YAAAN,CAAA,cAAAT,CAAA,EAAAK,CAAA,IAAAA,CAAA,CAAAc,GAAA,CAAAnB,CAAA,EAAAS,CAAA,GAAAA,CAAA;AAAA,SAAAW,SAAA,WAAAA,QAAA,GAAAR,MAAA,CAAAS,MAAA,GAAAT,MAAA,CAAAS,MAAA,CAAAC,IAAA,eAAAb,CAAA,aAAAT,CAAA,MAAAA,CAAA,GAAAuB,SAAA,CAAAC,MAAA,EAAAxB,CAAA,UAAAK,CAAA,GAAAkB,SAAA,CAAAvB,CAAA,YAAAI,CAAA,IAAAC,CAAA,OAAAW,cAAA,CAAAC,IAAA,CAAAZ,CAAA,EAAAD,CAAA,MAAAK,CAAA,CAAAL,CAAA,IAAAC,CAAA,CAAAD,CAAA,aAAAK,CAAA,KAAAW,QAAA,CAAAK,KAAA,OAAAF,SAAA;AAAA,SAAAG,2BAAAtB,CAAA,EAAAJ,CAAA,QAAAK,CAAA,yBAAAsB,MAAA,IAAAvB,CAAA,CAAAuB,MAAA,CAAAC,QAAA,KAAAxB,CAAA,qBAAAC,CAAA,QAAAwB,KAAA,CAAAC,OAAA,CAAA1B,CAAA,MAAAC,CAAA,GAAA0B,2BAAA,CAAA3B,CAAA,MAAAJ,CAAA,IAAAI,CAAA,uBAAAA,CAAA,CAAAoB,MAAA,IAAAnB,CAAA,KAAAD,CAAA,GAAAC,CAAA,OAAA2B,EAAA,MAAAC,CAAA,YAAAA,EAAA,eAAAC,CAAA,EAAAD,CAAA,EAAAxB,CAAA,WAAAA,EAAA,WAAAuB,EAAA,IAAA5B,CAAA,CAAAoB,MAAA,KAAAW,IAAA,WAAAA,IAAA,MAAAC,KAAA,EAAAhC,CAAA,CAAA4B,EAAA,UAAAhC,CAAA,WAAAA,EAAAI,CAAA,UAAAA,CAAA,KAAAiC,CAAA,EAAAJ,CAAA,gBAAAK,SAAA,iJAAAC,CAAA,EAAA5B,CAAA,OAAAI,CAAA,gBAAAmB,CAAA,WAAAA,EAAA,IAAA7B,CAAA,GAAAA,CAAA,CAAAY,IAAA,CAAAb,CAAA,MAAAK,CAAA,WAAAA,EAAA,QAAAL,CAAA,GAAAC,CAAA,CAAAmC,IAAA,WAAA7B,CAAA,GAAAP,CAAA,CAAA+B,IAAA,EAAA/B,CAAA,KAAAJ,CAAA,WAAAA,EAAAI,CAAA,IAAAW,CAAA,OAAAwB,CAAA,GAAAnC,CAAA,KAAAiC,CAAA,WAAAA,EAAA,UAAA1B,CAAA,YAAAN,CAAA,cAAAA,CAAA,8BAAAU,CAAA,QAAAwB,CAAA;AAAA,SAAAE,QAAAzC,CAAA,EAAAI,CAAA,QAAAC,CAAA,GAAAO,MAAA,CAAA8B,IAAA,CAAA1C,CAAA,OAAAY,MAAA,CAAA+B,qBAAA,QAAAJ,CAAA,GAAA3B,MAAA,CAAA+B,qBAAA,CAAA3C,CAAA,GAAAI,CAAA,KAAAmC,CAAA,GAAAA,CAAA,CAAAK,MAAA,WAAAxC,CAAA,WAAAQ,MAAA,CAAAE,wBAAA,CAAAd,CAAA,EAAAI,CAAA,EAAAyC,UAAA,OAAAxC,CAAA,CAAAyC,IAAA,CAAArB,KAAA,CAAApB,CAAA,EAAAkC,CAAA,YAAAlC,CAAA;AAAA,SAAA0C,cAAA/C,CAAA,aAAAI,CAAA,MAAAA,CAAA,GAAAmB,SAAA,CAAAC,MAAA,EAAApB,CAAA,UAAAC,CAAA,WAAAkB,SAAA,CAAAnB,CAAA,IAAAmB,SAAA,CAAAnB,CAAA,QAAAA,CAAA,OAAAqC,OAAA,CAAA7B,MAAA,CAAAP,CAAA,OAAA2C,OAAA,WAAA5C,CAAA,IAAA6C,eAAA,CAAAjD,CAAA,EAAAI,CAAA,EAAAC,CAAA,CAAAD,CAAA,SAAAQ,MAAA,CAAAsC,yBAAA,GAAAtC,MAAA,CAAAuC,gBAAA,CAAAnD,CAAA,EAAAY,MAAA,CAAAsC,yBAAA,CAAA7C,CAAA,KAAAoC,OAAA,CAAA7B,MAAA,CAAAP,CAAA,GAAA2C,OAAA,WAAA5C,CAAA,IAAAQ,MAAA,CAAAC,cAAA,CAAAb,CAAA,EAAAI,CAAA,EAAAQ,MAAA,CAAAE,wBAAA,CAAAT,CAAA,EAAAD,CAAA,iBAAAJ,CAAA;AAAA,SAAAiD,gBAAAjD,CAAA,EAAAI,CAAA,EAAAC,CAAA,YAAAD,CAAA,GAAAgD,cAAA,CAAAhD,CAAA,MAAAJ,CAAA,GAAAY,MAAA,CAAAC,cAAA,CAAAb,CAAA,EAAAI,CAAA,IAAAgC,KAAA,EAAA/B,CAAA,EAAAwC,UAAA,MAAAQ,YAAA,MAAAC,QAAA,UAAAtD,CAAA,CAAAI,CAAA,IAAAC,CAAA,EAAAL,CAAA;AAAA,SAAAoD,eAAA/C,CAAA,QAAAa,CAAA,GAAAqC,YAAA,CAAAlD,CAAA,gCAAAC,OAAA,CAAAY,CAAA,IAAAA,CAAA,GAAAA,CAAA;AAAA,SAAAqC,aAAAlD,CAAA,EAAAD,CAAA,oBAAAE,OAAA,CAAAD,CAAA,MAAAA,CAAA,SAAAA,CAAA,MAAAL,CAAA,GAAAK,CAAA,CAAAsB,MAAA,CAAA6B,WAAA,kBAAAxD,CAAA,QAAAkB,CAAA,GAAAlB,CAAA,CAAAiB,IAAA,CAAAZ,CAAA,EAAAD,CAAA,gCAAAE,OAAA,CAAAY,CAAA,UAAAA,CAAA,YAAAoB,SAAA,yEAAAlC,CAAA,GAAAqD,MAAA,GAAAC,MAAA,EAAArD,CAAA;AAAA,SAAAsD,eAAAvD,CAAA,EAAAJ,CAAA,WAAA4D,eAAA,CAAAxD,CAAA,KAAAyD,qBAAA,CAAAzD,CAAA,EAAAJ,CAAA,KAAA+B,2BAAA,CAAA3B,CAAA,EAAAJ,CAAA,KAAA8D,gBAAA;AAAA,SAAAA,iBAAA,cAAAxB,SAAA;AAAA,SAAAP,4BAAA3B,CAAA,EAAAO,CAAA,QAAAP,CAAA,2BAAAA,CAAA,SAAA2D,iBAAA,CAAA3D,CAAA,EAAAO,CAAA,OAAAN,CAAA,MAAA2D,QAAA,CAAA/C,IAAA,CAAAb,CAAA,EAAA6D,KAAA,6BAAA5D,CAAA,IAAAD,CAAA,CAAA8D,WAAA,KAAA7D,CAAA,GAAAD,CAAA,CAAA8D,WAAA,CAAAC,IAAA,aAAA9D,CAAA,cAAAA,CAAA,GAAAwB,KAAA,CAAAuC,IAAA,CAAAhE,CAAA,oBAAAC,CAAA,+CAAAgE,IAAA,CAAAhE,CAAA,IAAA0D,iBAAA,CAAA3D,CAAA,EAAAO,CAAA;AAAA,SAAAoD,kBAAA3D,CAAA,EAAAO,CAAA,aAAAA,CAAA,IAAAA,CAAA,GAAAP,CAAA,CAAAoB,MAAA,MAAAb,CAAA,GAAAP,CAAA,CAAAoB,MAAA,YAAAxB,CAAA,MAAAS,CAAA,GAAAoB,KAAA,CAAAlB,CAAA,GAAAX,CAAA,GAAAW,CAAA,EAAAX,CAAA,IAAAS,CAAA,CAAAT,CAAA,IAAAI,CAAA,CAAAJ,CAAA,UAAAS,CAAA;AAAA,SAAAoD,sBAAAzD,CAAA,EAAAkE,CAAA,QAAAjE,CAAA,WAAAD,CAAA,gCAAAuB,MAAA,IAAAvB,CAAA,CAAAuB,MAAA,CAAAC,QAAA,KAAAxB,CAAA,4BAAAC,CAAA,QAAAL,CAAA,EAAAS,CAAA,EAAAS,CAAA,EAAAH,CAAA,EAAAJ,CAAA,OAAA0B,CAAA,OAAAE,CAAA,iBAAArB,CAAA,IAAAb,CAAA,GAAAA,CAAA,CAAAY,IAAA,CAAAb,CAAA,GAAAoC,IAAA,QAAA8B,CAAA,QAAA1D,MAAA,CAAAP,CAAA,MAAAA,CAAA,UAAAgC,CAAA,uBAAAA,CAAA,IAAArC,CAAA,GAAAkB,CAAA,CAAAD,IAAA,CAAAZ,CAAA,GAAA8B,IAAA,MAAAxB,CAAA,CAAAmC,IAAA,CAAA9C,CAAA,CAAAoC,KAAA,GAAAzB,CAAA,CAAAa,MAAA,KAAA8C,CAAA,GAAAjC,CAAA,iBAAAjC,CAAA,IAAAmC,CAAA,OAAA9B,CAAA,GAAAL,CAAA,yBAAAiC,CAAA,YAAAhC,CAAA,eAAAU,CAAA,GAAAV,CAAA,cAAAO,MAAA,CAAAG,CAAA,MAAAA,CAAA,2BAAAwB,CAAA,QAAA9B,CAAA,aAAAE,CAAA;AAAA,SAAAiD,gBAAAxD,CAAA,QAAAyB,KAAA,CAAAC,OAAA,CAAA1B,CAAA,UAAAA,CAAA;AAAA,SAAAmE,yBAAAvE,CAAA,EAAAK,CAAA,gBAAAL,CAAA,iBAAAuC,CAAA,EAAAnC,CAAA,EAAAc,CAAA,GAAAsD,6BAAA,CAAAxE,CAAA,EAAAK,CAAA,OAAAO,MAAA,CAAA+B,qBAAA,QAAAT,CAAA,GAAAtB,MAAA,CAAA+B,qBAAA,CAAA3C,CAAA,QAAAI,CAAA,MAAAA,CAAA,GAAA8B,CAAA,CAAAV,MAAA,EAAApB,CAAA,IAAAmC,CAAA,GAAAL,CAAA,CAAA9B,CAAA,GAAAC,CAAA,CAAAoE,QAAA,CAAAlC,CAAA,QAAAmC,oBAAA,CAAAzD,IAAA,CAAAjB,CAAA,EAAAuC,CAAA,MAAArB,CAAA,CAAAqB,CAAA,IAAAvC,CAAA,CAAAuC,CAAA,aAAArB,CAAA;AAAA,SAAAsD,8BAAApE,CAAA,EAAAJ,CAAA,gBAAAI,CAAA,iBAAAC,CAAA,gBAAAI,CAAA,IAAAL,CAAA,SAAAY,cAAA,CAAAC,IAAA,CAAAb,CAAA,EAAAK,CAAA,SAAAT,CAAA,CAAAyE,QAAA,CAAAhE,CAAA,aAAAJ,CAAA,CAAAI,CAAA,IAAAL,CAAA,CAAAK,CAAA,YAAAJ,CAAA;AAQA;AACA;;AAEA;AACO,SAASsE,YAAYA,CAAAC,IAAA,EAgBzB;EAAA/E,EAAA;EAAA,IAdDgF,QAAQ,GAAAD,IAAA,CAARC,QAAQ;IAAAC,qBAAA,GAAAF,IAAA,CACRG,gBAAgB;IAAhBA,gBAAgB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,qBAAA,GAAAJ,IAAA,CACrBK,qBAAqB;IAArBA,qBAAqB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,qBAAA,GAAAN,IAAA,CAC1BO,kBAAkB;IAAlBA,kBAAkB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,qBAAA,GAAAR,IAAA,CACvBS,uBAAuB;IAAvBA,uBAAuB,GAAAD,qBAAA,cAAG,EAAE,GAAAA,qBAAA;IAAAE,cAAA,GAAAV,IAAA,CAC5BW,SAAS;IAATA,SAAS,GAAAD,cAAA,cAAG,GAAG,GAAAA,cAAA;IAOfE,IAAI,GAAAZ,IAAA,CAAJY,IAAI;IACDC,UAAU,GAAAlB,wBAAA,CAAAK,IAAA,EAAA7E,SAAA;EAEb,IAAA2F,SAAA,GAAoC,IAAAC,eAAQ,EAAC,CAAC,CAAC,CAAC;IAAAC,UAAA,GAAAjC,cAAA,CAAA+B,SAAA;IAAzCG,UAAU,GAAAD,UAAA;IAAEE,aAAa,GAAAF,UAAA;EAChC,IAAAG,UAAA,GAAkC,IAAAJ,eAAQ,EAAC,EAAE,CAAC;IAAAK,UAAA,GAAArC,cAAA,CAAAoC,UAAA;IAAvCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAkD,IAAAR,eAAQ,EAAC,EAAE,CAAC;IAAAS,UAAA,GAAAzC,cAAA,CAAAwC,UAAA;IAAvDE,iBAAiB,GAAAD,UAAA;IAAEE,oBAAoB,GAAAF,UAAA;EAC9C,IAAAG,UAAA,GAAkC,IAAAZ,eAAQ,EAAC,IAAI,CAAC;IAAAa,UAAA,GAAA7C,cAAA,CAAA4C,UAAA;IAAzCE,SAAS,GAAAD,UAAA;IAAEE,YAAY,GAAAF,UAAA;EAC9B,IAAAG,UAAA,GAAwC,IAAAhB,eAAQ,EAAC,KAAK,CAAC;IAAAiB,WAAA,GAAAjD,cAAA,CAAAgD,UAAA;IAAhDE,YAAY,GAAAD,WAAA;IAAEE,eAAe,GAAAF,WAAA;EACpC,IAAAG,WAAA,GAAsC,IAAApB,eAAQ,EAAC,EAAE,CAAC;IAAAqB,WAAA,GAAArD,cAAA,CAAAoD,WAAA;IAA3CE,WAAW,GAAAD,WAAA;IAAEE,cAAc,GAAAF,WAAA;EAClC,IAAAG,WAAA,GAAgC,IAAAxB,eAAQ,EAAC,CAAC,CAAC,CAAC;IAAAyB,WAAA,GAAAzD,cAAA,CAAAwD,WAAA;IAArCE,QAAQ,GAAAD,WAAA;IAAEE,WAAW,GAAAF,WAAA;;EAE5B;EACA3B,UAAU,GAAA1C,aAAA;IACR;IACAwE,WAAW,EAAXA,sBAAW;IACXC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,IAAI,EAAE,EAAE;IACRC,cAAc,EAAE,OAAO;IACvBC,OAAO,EAAE,CAAC,CAAC;IACXC,WAAW,EAAE,CAAC,CAAC;IACfC,QAAQ,EAAE,YAAY;IACtBC,QAAQ,EAAE,YAAY;IACtBC,iBAAiB,EAAE,CAAC,CAAC;IAErB;IACAC,YAAY,EAAE,OAAO;IACrBC,SAAS,EAAEC;EAAc,GAEtB1C,UAAU,CACd;EAED,IAAA2C,gBAAS,EAAC,YAAM;IACdC,gBAAgB,CAAC7C,IAAI,CAAC;EACxB,CAAC,EAAE,CAACA,IAAI,CAAC,CAAC;EAEV,SAAS6C,gBAAgBA,CAACC,QAAQ,EAAE;IAClC,IAAIrC,SAAS,KAAKqC,QAAQ,EAAE;MAC1B;IACF;IAEA,IAAIzC,UAAU,GAAG,CAAC,CAAC;IACnB,IAAIQ,iBAAiB,GAAG,EAAE;IAC1B,IAAIkC,gBAAgB,GAAG,CAAC;IAExBC,oBAAS,CAACC,aAAa,CACrBH,QAAQ,EACR7C,UAAU,CAACuC,iBAAiB,EAC5B,UAAUU,MAAM,EAAE;MAChBrC,iBAAiB,CAACvD,IAAI,CAAC4F,MAAM,CAAC;MAC9B,SAAAC,EAAA,MAAAC,YAAA,GAAmBhI,MAAM,CAAC8B,IAAI,CAACgG,MAAM,CAAC,EAAAC,EAAA,GAAAC,YAAA,CAAApH,MAAA,EAAAmH,EAAA,IAAE;QAAnC,IAAME,IAAI,GAAAD,YAAA,CAAAD,EAAA;QACb,IAAI,EAAEE,IAAI,IAAIhD,UAAU,CAAC,EAAE;UACzBA,UAAU,CAACgD,IAAI,CAAC,GAAG,CAAC,CAAC;UACrB,IAAIN,gBAAgB,GAAG,CAAC,EAAE;YACxB1C,UAAU,CAACgD,IAAI,CAAC,QAAK,GAAGN,gBAAgB;UAC1C;QACF;MACF;MACA,KAAK,IAAMM,KAAI,IAAIhD,UAAU,EAAE;QAC7B,IAAMzD,KAAK,GAAGyG,KAAI,IAAIH,MAAM,GAAGA,MAAM,CAACG,KAAI,CAAC,GAAG,MAAM;QACpD,IAAI,EAAEzG,KAAK,IAAIyD,UAAU,CAACgD,KAAI,CAAC,CAAC,EAAE;UAChChD,UAAU,CAACgD,KAAI,CAAC,CAACzG,KAAK,CAAC,GAAG,CAAC;QAC7B;QACAyD,UAAU,CAACgD,KAAI,CAAC,CAACzG,KAAK,CAAC,EAAE;MAC3B;MACAmG,gBAAgB,EAAE;IACpB,CACF,CAAC;IAEDO,OAAO,CAACC,GAAG,CAAC,YAAY,EAAElD,UAAU,CAAC;IACrCiD,OAAO,CAACC,GAAG,CAAC,mBAAmB,EAAE1C,iBAAiB,CAAC;;IAEnD;IACAH,YAAY,CAACoC,QAAQ,CAAC;IACtBxC,aAAa,CAACD,UAAU,CAAC;IACzBS,oBAAoB,CAACD,iBAAiB,CAAC;EACzC;;EAEA;EACA;EACA;;EAEA,SAAS2C,WAAWA,CAACC,GAAG,EAAE;IACxB;IACA,OAAO,UAAC7G,KAAK;MAAA,OAAKyC,QAAQ,CAAA9B,aAAA,CAAAA,aAAA,KAAK0C,UAAU,OAAAxC,eAAA,KAAGgG,GAAG,EAAG7G,KAAK,EAAC,CAAC;IAAA;EAC3D;EAEA,SAAS8G,iBAAiBA,CAACC,SAAS,EAAEC,MAAM,EAAE;IAC5C,IAAAC,WAAA,GAAoB5D,UAAU;MAAzBoC,WAAW,GAAAwB,WAAA,CAAXxB,WAAW;IAChBA,WAAW,CAACsB,SAAS,CAAC,GAAGC,MAAM,CAACE,MAAM,CAAC,UAAClJ,CAAC,EAAEmJ,CAAC,EAAK;MAC/CnJ,CAAC,CAACmJ,CAAC,CAAC,GAAG,IAAI;MACX,OAAOnJ,CAAC;IACV,CAAC,EAAE,CAAC,CAAC,CAAC;IACNyE,QAAQ,CAAA9B,aAAA,CAAAA,aAAA,KAAK0C,UAAU;MAAEoC,WAAW,EAAXA;IAAW,EAAC,CAAC;IACtC;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;EACF;EAEA,SAAS2B,iBAAiBA,CAACL,SAAS,EAAEC,MAAM,EAAE;IAC5C,IAAAK,YAAA,GAAoBhE,UAAU;MAAzBoC,WAAW,GAAA4B,YAAA,CAAX5B,WAAW;IAChB,IAAIsB,SAAS,IAAI1D,UAAU,CAACoC,WAAW,EAAE;MACvCA,WAAW,CAACsB,SAAS,CAAC,GAAGC,MAAM,CAACE,MAAM,CAAC,UAAClJ,CAAC,EAAEmJ,CAAC,EAAK;QAC/CnJ,CAAC,CAACmJ,CAAC,CAAC,GAAG,IAAI;QACX,OAAOnJ,CAAC;MACV,CAAC,EAAEyH,WAAW,CAACsB,SAAS,CAAC,CAAC;MAC1BtE,QAAQ,CAAA9B,aAAA,CAAAA,aAAA,KAAK0C,UAAU;QAAEoC,WAAW,EAAXA;MAAW,EAAC,CAAC;MACtC;MACA;MACA;MACA;MACA;MACA;MACA;MACA;IACF,CAAC,MAAM;MACLqB,iBAAiB,CAACC,SAAS,EAAEC,MAAM,CAAC;IACtC;EACF;EAEA,SAASM,sBAAsBA,CAACP,SAAS,EAAEC,MAAM,EAAE;IACjD,IAAAO,YAAA,GAAoBlE,UAAU;MAAzBoC,WAAW,GAAA8B,YAAA,CAAX9B,WAAW;IAAe,IAAA+B,SAAA,GAAAlI,0BAAA,CACjB0H,MAAM;MAAAS,KAAA;IAAA;MAApB,KAAAD,SAAA,CAAA1H,CAAA,MAAA2H,KAAA,GAAAD,SAAA,CAAAnJ,CAAA,IAAA0B,IAAA,GAAsB;QAAA,IAAboH,CAAC,GAAAM,KAAA,CAAAzH,KAAA;QACR,OAAOyF,WAAW,CAACsB,SAAS,CAAC,CAACI,CAAC,CAAC;MAClC;IAAC,SAAAO,GAAA;MAAAF,SAAA,CAAA5J,CAAA,CAAA8J,GAAA;IAAA;MAAAF,SAAA,CAAAvH,CAAA;IAAA;IACDwC,QAAQ,CAAA9B,aAAA,CAAAA,aAAA,KAAK0C,UAAU;MAAEoC,WAAW,EAAXA;IAAW,EAAC,CAAC;IACtC;IACA;IACA;EACF;EAEA,SAASkC,kBAAkBA,CAACZ,SAAS,EAAE;IACrC,IAAIa,MAAM,GAAGvD,SAAS,GAAG,CAAC;IAC1BC,YAAY,CAACsD,MAAM,CAAC;IACpB1C,WAAW,CAAArE,eAAA,KAAGkG,SAAS,EAAGa,MAAM,CAAC,CAAC;IAClC;IACA;IACA;IACA;IACA;IACA;EACF;EAEA,SAASC,MAAMA,CAACC,QAAQ,EAAE;IACxB;IACA,OAAOrD,YAAY,KAAKqD,QAAQ;EAClC;EAEA,SAASC,WAAWA,CAACC,KAAK,EAAEC,IAAI,EAAEC,OAAO,EAAEC,OAAO,EAAE;IAClD,oBACEpL,MAAA,YAAAqL,aAAA,CAAClL,gBAAA,CAAAmL,aAAa;MACZJ,IAAI,EAAEA,IAAK;MACXC,OAAO,EAAEA;MACT;MAAA;MACAI,KAAK,EAAC,QAAQ;MACdC,UAAU,EAAC,gBAAgB;MAC3B/H,MAAM,EAAC,eAAe;MACtBgI,eAAe,EAAE,KAAM;MACvBC,GAAG,EAAC,IAAI;MACRC,SAAS,EAAEP;IAAQ,GAElBH,KAAK,aAALA,KAAK,uBAALA,KAAK,CAAEW,GAAG,CAAC,UAACC,CAAC;MAAA,IAAAC,YAAA,EAAAC,YAAA;MAAA,oBACZ/L,MAAA,YAAAqL,aAAA,CAACjL,mBAAA,CAAA4L,kBAAkB;QACjBhH,IAAI,EAAE6G,CAAE;QACR/B,GAAG,EAAE+B,CAAE;QACPnF,UAAU,EAAEA,UAAU,CAACmF,CAAC,CAAE;QAC1BnD,WAAW,EAAE,EAAAoD,YAAA,GAAAxF,UAAU,cAAAwF,YAAA,uBAAVA,YAAA,CAAYpD,WAAW,CAACmD,CAAC,CAAC,KAAI,CAAC,CAAE;QAC9CI,MAAM,EAAE,IAAAC,kBAAO,GAAAH,YAAA,GAACzF,UAAU,cAAAyF,YAAA,uBAAVA,YAAA,CAAYtD,OAAO,EAAEoD,CAAC,CAAE;QACxCzF,SAAS,EAAEA,SAAU;QACrB2D,iBAAiB,EAAEA,iBAAkB;QACrCM,iBAAiB,EAAEA,iBAAkB;QACrCO,kBAAkB,EAAEA,kBAAmB;QACvCL,sBAAsB,EAAEA,sBAAuB;QAC/CM,MAAM,EAAE3C,QAAQ,CAAC2D,CAAC,CAAC,IAAIvE;MAAU,CAClC,CAAC;IAAA,CACH,CACY,CAAC;EAEpB;EAEA,IAAM6E,cAAc,GAClB7F,UAAU,CAAC8B,WAAW,CAAC9B,UAAU,CAACkC,cAAc,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC4D,SAAS,IAAI,CAAC;EAExE,IAAMC,oBAAoB,GAAG/F,UAAU,CAAC8B,WAAW,CACjD9B,UAAU,CAACkC,cAAc,CAC1B,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC8D,MAAM;EAEd,IAAAC,YAAA,GAAgCjG,UAAU;IAArCwC,YAAY,GAAAyD,YAAA,CAAZzD,YAAY;IAAEC,SAAS,GAAAwD,YAAA,CAATxD,SAAS;EAC5B,IAAI,EAAED,YAAY,IAAIC,SAAS,CAAC,EAAED,YAAY,GAAGrH,MAAM,CAAC8B,IAAI,CAACwF,SAAS,CAAC,CAAC,CAAC,CAAC;EAE1E,IAAMyD,YAAY,GAAG,SAAfA,YAAYA,CAAA;IAAA,oBAChBxM,MAAA,YAAAqL,aAAA;MAAIM,SAAS,EAAC;IAAc,gBAC1B3L,MAAA,YAAAqL,aAAA,CAAChL,SAAA,CAAAoM,QAAQ;MACPC,OAAO,EAAE5D,YAAa;MACtBmB,MAAM,EAAExI,MAAM,CAAC8B,IAAI,CAACwF,SAAS,CAAE;MAC/B4D,IAAI,EAAE7B,MAAM,CAAC,UAAU,CAAE;MACzBD,MAAM,EAAEC,MAAM,CAAC,UAAU,CAAC,GAAGxD,SAAS,GAAG,CAAC,GAAG,CAAE;MAC/CsF,MAAM,EAAE,SAARA,MAAMA,CAAA;QAAA,OAAQjF,eAAe,CAACmD,MAAM,CAAC,UAAU,CAAC,GAAG,KAAK,GAAG,UAAU,CAAC;MAAA,CAAC;MACvE+B,QAAQ,EAAEhD,WAAW,CAAC,cAAc;IAAE,CACvC,CACC,CAAC;EAAA,CACN;EAED,IAAMiD,SAAS,GAAG;IAChBC,UAAU,EAAE;MACVC,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE,GAAG;MACd5J,IAAI,EAAE;IACR,CAAC;IACD6J,YAAY,EAAE;MACZF,SAAS,EAAE,GAAG;MACdC,SAAS,EAAE,GAAG;MACd5J,IAAI,EAAE;IACR,CAAC;IACD8J,YAAY,EAAE;MAACH,SAAS,EAAE,GAAG;MAAEC,SAAS,EAAE,GAAG;MAAE5J,IAAI,EAAE;IAAY;EACnE,CAAC;EAED,IAAM+J,cAAc,GAAG,SAAjBA,cAAcA,CAAA;IAAA,oBAClBpN,MAAA,YAAAqL,aAAA;MAAIM,SAAS,EAAC;IAAS,gBACrB3L,MAAA,YAAAqL,aAAA,CAAChL,SAAA,CAAAoM,QAAQ;MACPC,OAAO,EAAEpG,UAAU,CAACkC,cAAe;MACnCyB,MAAM,EAAExI,MAAM,CAAC8B,IAAI,CAAC+C,UAAU,CAAC8B,WAAW,CAAE;MAC5CuE,IAAI,EAAE7B,MAAM,CAAC,aAAa,CAAE;MAC5BD,MAAM,EAAEC,MAAM,CAAC,aAAa,CAAC,GAAGxD,SAAS,GAAG,CAAC,GAAG,CAAE;MAClDsF,MAAM,EAAE,SAARA,MAAMA,CAAA;QAAA,OACJjF,eAAe,CAACmD,MAAM,CAAC,aAAa,CAAC,GAAG,KAAK,GAAG,aAAa,CAAC;MAAA,CAC/D;MACD+B,QAAQ,EAAEhD,WAAW,CAAC,gBAAgB;IAAE,CACzC,CAAC,eACF7J,MAAA,YAAAqL,aAAA;MACEgC,IAAI,EAAC,QAAQ;MACb1B,SAAS,EAAC,aAAa;MACvB2B,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OACLzD,WAAW,CAAC,UAAU,CAAC,CAACiD,SAAS,CAACxG,UAAU,CAACqC,QAAQ,CAAC,CAACtF,IAAI,CAAC;MAAA;IAC7D,GAEAyJ,SAAS,CAACxG,UAAU,CAACqC,QAAQ,CAAC,CAACqE,SAC/B,CAAC,eACJhN,MAAA,YAAAqL,aAAA;MACEgC,IAAI,EAAC,QAAQ;MACb1B,SAAS,EAAC,aAAa;MACvB2B,OAAO,EAAE,SAATA,OAAOA,CAAA;QAAA,OACLzD,WAAW,CAAC,UAAU,CAAC,CAACiD,SAAS,CAACxG,UAAU,CAACsC,QAAQ,CAAC,CAACvF,IAAI,CAAC;MAAA;IAC7D,GAEAyJ,SAAS,CAACxG,UAAU,CAACsC,QAAQ,CAAC,CAACqE,SAC/B,CAAC,EACHd,cAAc,GAAG,CAAC,iBAAInM,MAAA,YAAAqL,aAAA,WAAK,CAAC,EAC5B,IAAI3I,KAAK,CAACyJ,cAAc,CAAC,CAACoB,IAAI,CAAC,CAAC,CAAC3B,GAAG,CAAC,UAACtK,CAAC,EAAES,CAAC;MAAA,OAAK,cAC9C/B,MAAA,YAAAqL,aAAA,CAAChL,SAAA,CAAAoM,QAAQ;QACP3C,GAAG,EAAE/H,CAAE;QACP2K,OAAO,EAAEpG,UAAU,CAACiC,IAAI,CAACxG,CAAC,CAAE;QAC5BkI,MAAM,EAAExI,MAAM,CAAC8B,IAAI,CAACmD,UAAU,CAAC,CAACjD,MAAM,CACpC,UAAC5C,CAAC;UAAA,OACA,CAAC+E,gBAAgB,CAACN,QAAQ,CAACzE,CAAC,CAAC,IAC7B,CAACiF,qBAAqB,CAACR,QAAQ,CAACzE,CAAC,CAAC;QAAA,CACtC,CAAE;QACF8L,IAAI,EAAE7B,MAAM,OAAA0C,MAAA,CAAOzL,CAAC,CAAE,CAAE;QACxB8I,MAAM,EAAEC,MAAM,OAAA0C,MAAA,CAAOzL,CAAC,CAAE,CAAC,GAAGuF,SAAS,GAAG,CAAC,GAAG,CAAE;QAC9CsF,MAAM,EAAE,SAARA,MAAMA,CAAA;UAAA,OAAQjF,eAAe,CAACmD,MAAM,OAAA0C,MAAA,CAAOzL,CAAC,CAAE,CAAC,GAAG,KAAK,SAAAyL,MAAA,CAASzL,CAAC,CAAE,CAAC;QAAA,CAAC;QACrE8K,QAAQ,EAAE,SAAVA,QAAQA,CAAG5J,KAAK,EAAK;UACnB,IAAIsF,IAAI,GAAGjC,UAAU,CAACiC,IAAI;UAC1BA,IAAI,CAACkF,MAAM,CAAC1L,CAAC,EAAE,CAAC,EAAEkB,KAAK,CAAC;UACxByC,QAAQ,CAAA9B,aAAA,CAAAA,aAAA,KAAK0C,UAAU;YAAEiC,IAAI,EAAJA;UAAI,EAAC,CAAC;QACjC;MAAE,CACH,CAAC,EACFxG,CAAC,GAAG,CAAC,KAAKoK,cAAc,gBAAGnM,MAAA,YAAAqL,aAAA;QAAIvB,GAAG,OAAA0D,MAAA,CAAOzL,CAAC;MAAG,CAAE,CAAC,GAAG,IAAI,CACxD;IAAA,EAAC,EACDsK,oBAAoB,IAAIA,oBAAoB,CAAChG,IAAI,CAChD,CAAC;EAAA,CACN;EAED,IAAMqH,WAAW,GAAGjM,MAAM,CAAC8B,IAAI,CAACmD,UAAU,CAAC,CACxCjD,MAAM,CACL,UAAC5C,CAAC;IAAA,OACA,CAACyF,UAAU,CAACgC,IAAI,CAAChD,QAAQ,CAACzE,CAAC,CAAC,IAC5B,CAACyF,UAAU,CAAC+B,IAAI,CAAC/C,QAAQ,CAACzE,CAAC,CAAC,IAC5B,CAAC+E,gBAAgB,CAACN,QAAQ,CAACzE,CAAC,CAAC,IAC7B,CAACmF,kBAAkB,CAACV,QAAQ,CAACzE,CAAC,CAAC;EAAA,CACnC,CAAC,CACA8M,IAAI,CAAC,IAAAC,iBAAM,EAAC9F,WAAW,CAAC,CAAC;EAC5B,IAAM+F,YAAY,GAAGH,WAAW,CAACvD,MAAM,CAAC,UAAClJ,CAAC,EAAEJ,CAAC;IAAA,OAAKI,CAAC,GAAGJ,CAAC,CAACwB,MAAM;EAAA,GAAE,CAAC,CAAC;EAClE,IAAMyL,WAAW,GAAGD,YAAY,GAAG3H,uBAAuB;EAC1D,IAAM6H,eAAe,GAAG,SAAlBA,eAAeA,CAAA;IAAA,OACnB/C,WAAW,CACT0C,WAAW,EACX5F,WAAW,EACXC,cAAc,gCAAAyF,MAAA,CACgBM,WAAW,GAAG,cAAc,GAAG,aAAa,CAC5E,CAAC;EAAA;EAEH,IAAME,QAAQ,GAAG1H,UAAU,CAAC+B,IAAI,CAAC5E,MAAM,CACrC,UAAC5C,CAAC;IAAA,OAAK,CAAC+E,gBAAgB,CAACN,QAAQ,CAACzE,CAAC,CAAC,IAAI,CAACmF,kBAAkB,CAACV,QAAQ,CAACzE,CAAC,CAAC;EAAA,CACzE,CAAC;EACD,IAAMoN,YAAY,GAAG,SAAfA,YAAYA,CAAA;IAAA,OAChBjD,WAAW,CACTgD,QAAQ,EACR1H,UAAU,CAAC+B,IAAI,EACfwB,WAAW,CAAC,MAAM,CAAC,EACnB,uCACF,CAAC;EAAA;EAEH,IAAMqE,QAAQ,GAAG5H,UAAU,CAACgC,IAAI,CAAC7E,MAAM,CACrC,UAAC5C,CAAC;IAAA,OAAK,CAAC+E,gBAAgB,CAACN,QAAQ,CAACzE,CAAC,CAAC,IAAI,CAACmF,kBAAkB,CAACV,QAAQ,CAACzE,CAAC,CAAC;EAAA,CACzE,CAAC;EACD,IAAMsN,YAAY,GAAG,SAAfA,YAAYA,CAAA;IAAA,OAChBnD,WAAW,CACTkD,QAAQ,EACR5H,UAAU,CAACgC,IAAI,EACfuB,WAAW,CAAC,MAAM,CAAC,EACnB,sCACF,CAAC;EAAA;EAEH,IAAMuE,UAAU,GAAG,SAAbA,UAAUA,CAAA;IAAA,oBACdpO,MAAA,YAAAqL,aAAA;MAAIM,SAAS,EAAC;IAAW,gBACvB3L,MAAA,YAAAqL,aAAA,CAAC9K,WAAA,WAAU,EAAA0B,QAAA;MACToE,IAAI,EAAEa,iBAAkB;MACxB2B,iBAAiB,EAAEvC,UAAU,CAACuC;IAAkB,GAC5CvC,UAAU,CAIf,CACC,CAAC;EAAA,CACN;EAED,OAAOwH,WAAW,gBAChB9N,MAAA,YAAAqL,aAAA;IAAOM,SAAS,EAAC;EAAO,gBACtB3L,MAAA,YAAAqL,aAAA;IAAOiC,OAAO,EAAE,SAATA,OAAOA,CAAA;MAAA,OAAQ3F,eAAe,CAAC,KAAK,CAAC;IAAA;EAAC,gBAC3C3H,MAAA,YAAAqL,aAAA,0BACErL,MAAA,YAAAqL,aAAA,CAACmB,YAAY,MAAE,CAAC,eAChBxM,MAAA,YAAAqL,aAAA,CAAC0C,eAAe,MAAE,CAChB,CAAC,eACL/N,MAAA,YAAAqL,aAAA,0BACErL,MAAA,YAAAqL,aAAA,CAAC+B,cAAc,MAAE,CAAC,eAClBpN,MAAA,YAAAqL,aAAA,CAAC4C,YAAY,MAAE,CACb,CAAC,eACLjO,MAAA,YAAAqL,aAAA,0BACErL,MAAA,YAAAqL,aAAA,CAAC8C,YAAY,MAAE,CAAC,eAChBnO,MAAA,YAAAqL,aAAA,CAAC+C,UAAU,MAAE,CACX,CACC,CACF,CAAC,gBAERpO,MAAA,YAAAqL,aAAA;IAAOM,SAAS,EAAC;EAAO,gBACtB3L,MAAA,YAAAqL,aAAA;IAAOiC,OAAO,EAAE,SAATA,OAAOA,CAAA;MAAA,OAAQ3F,eAAe,CAAC,KAAK,CAAC;IAAA;EAAC,gBAC3C3H,MAAA,YAAAqL,aAAA,0BACErL,MAAA,YAAAqL,aAAA,CAACmB,YAAY,MAAE,CAAC,eAChBxM,MAAA,YAAAqL,aAAA,CAAC+B,cAAc,MAAE,CAAC,eAClBpN,MAAA,YAAAqL,aAAA,CAAC4C,YAAY,MAAE,CACb,CAAC,eACLjO,MAAA,YAAAqL,aAAA,0BACErL,MAAA,YAAAqL,aAAA,CAAC0C,eAAe,MAAE,CAAC,eACnB/N,MAAA,YAAAqL,aAAA,CAAC8C,YAAY,MAAE,CAAC,eAChBnO,MAAA,YAAAqL,aAAA,CAAC+C,UAAU,MAAE,CACX,CACC,CACF,CACR;AACH;AACA;AAAA1N,EAAA,CA7XgB8E,YAAY;AAAA6I,EAAA,GAAZ7I,YAAY;AAAA,IAAA8I,QAAA,GAAAC,OAAA,cA+Xb/I,YAAY;AAAA,IAAA6I,EAAA;AAAAG,YAAA,CAAAH,EAAA","ignoreList":[]}